{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport { urlToDB } from \"../../config/constant\";\nimport { simpleUrl } from \"../../config/constant\";\nexport var GAME_CODE = \"GAME_CODE\";\nexport var UPDATED_GENRES = \"UPDATED_GENRES\";\nexport var GetGameCode = function GetGameCode(codeOfTheGame) {\n  return {\n    type: GAME_CODE,\n    payload: codeOfTheGame\n  };\n};\nexport var GenresUpdated = function GenresUpdated(genresId) {\n  return {\n    type: UPDATED_GENRES,\n    payload: genresId\n  };\n};\nexport var gameCode = function gameCode(code, name) {\n  return function _callee(dispatch, getState) {\n    var response, gameDetails;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.post(simpleUrl + \"/game/\" + code, {\n              code: code,\n              name: name\n            }));\n\n          case 3:\n            response = _context.sent;\n            console.log(\"mmm\");\n            gameDetails = response.data;\n            console.log(\"Yep!\", response.data);\n            dispatch(GetGameCode(gameDetails));\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            _context.t0.response;\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n};\nexport var updateGenres = function updateGenres(gameId, genres) {\n  return function _callee2(dispatch, getState) {\n    var response;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\"getState\", getState());\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(axios.patch(simpleUrl + \"/game/\" + gameId, {\n              genres: genres\n            }));\n\n          case 3:\n            response = _context2.sent;\n            console.log(\"AAAAAA\", response.data);\n            dispatch(GenresUpdated(response.data));\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"sources":["/home/nina/Code/portfolio/client/store/games/action.js"],"names":["axios","urlToDB","simpleUrl","GAME_CODE","UPDATED_GENRES","GetGameCode","codeOfTheGame","type","payload","GenresUpdated","genresId","gameCode","code","name","dispatch","getState","post","response","console","log","gameDetails","data","updateGenres","gameId","genres","patch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT;AACA,SAASC,SAAT;AAEA,OAAO,IAAMC,SAAS,GAAG,WAAlB;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AAEP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,aAAD;AAAA,SAAoB;AAC7CC,IAAAA,IAAI,EAAEJ,SADuC;AAE7CK,IAAAA,OAAO,EAAEF;AAFoC,GAApB;AAAA,CAApB;AAKP,OAAO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,QAAD;AAAA,SAAe;AAC1CH,IAAAA,IAAI,EAAEH,cADoC;AAE1CI,IAAAA,OAAO,EAAEE;AAFiC,GAAf;AAAA,CAAtB;AAKP,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAOC,IAAP,EAAgB;AACtC,SAAO,iBAAOC,QAAP,EAAiBC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEoBf,KAAK,CAACgB,IAAN,CAAcd,SAAd,cAAgCU,IAAhC,EAAwC;AAC7DA,cAAAA,IAAI,EAAEA,IADuD;AAE7DC,cAAAA,IAAI,EAAEA;AAFuD,aAAxC,CAFpB;;AAAA;AAEGI,YAAAA,QAFH;AAMHC,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AAEMC,YAAAA,WARH,GAQiBH,QAAQ,CAACI,IAR1B;AASHH,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,QAAQ,CAACI,IAA7B;AACAP,YAAAA,QAAQ,CAACT,WAAW,CAACe,WAAD,CAAZ,CAAR;AAVG;AAAA;;AAAA;AAAA;AAAA;AAYH,wBAAIH,QAAJ;;AAZG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAeD,CAhBM;AAkBP,OAAO,IAAMK,YAAY,GAAG,SAAfA,YAAe,CAACC,MAAD,EAASC,MAAT,EAAoB;AAC9C,SAAO,kBAAOV,QAAP,EAAiBC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACLG,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,QAAQ,EAAhC;AADK;AAAA,6CAEkBf,KAAK,CAACyB,KAAN,CAAevB,SAAf,cAAiCqB,MAAjC,EAA2C;AAChEC,cAAAA,MAAM,EAANA;AADgE,aAA3C,CAFlB;;AAAA;AAECP,YAAAA,QAFD;AAKLC,YAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,QAAQ,CAACI,IAA/B;AACAP,YAAAA,QAAQ,CAACL,aAAa,CAACQ,QAAQ,CAACI,IAAV,CAAd,CAAR;;AANK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAQD,CATM","sourcesContent":["import axios from \"axios\";\nimport { urlToDB } from \"../../config/constant\";\nimport { simpleUrl } from \"../../config/constant\";\n\nexport const GAME_CODE = \"GAME_CODE\";\nexport const UPDATED_GENRES = \"UPDATED_GENRES\";\n\nexport const GetGameCode = (codeOfTheGame) => ({\n  type: GAME_CODE,\n  payload: codeOfTheGame,\n});\n\nexport const GenresUpdated = (genresId) => ({\n  type: UPDATED_GENRES,\n  payload: genresId,\n});\n\nexport const gameCode = (code, name) => {\n  return async (dispatch, getState) => {\n    try {\n      const response = await axios.post(`${simpleUrl}/game/${code}`, {\n        code: code,\n        name: name,\n      });\n      console.log(\"mmm\");\n\n      const gameDetails = response.data;\n      console.log(\"Yep!\", response.data);\n      dispatch(GetGameCode(gameDetails));\n    } catch (err) {\n      err.response;\n    }\n  };\n};\n\nexport const updateGenres = (gameId, genres) => {\n  return async (dispatch, getState) => {\n    console.log(\"getState\", getState());\n    const response = await axios.patch(`${simpleUrl}/game/${gameId}`, {\n      genres,\n    });\n    console.log(\"AAAAAA\", response.data);\n    dispatch(GenresUpdated(response.data));\n  };\n};\n"]},"metadata":{},"sourceType":"module"}